<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>Smart Home Finds</title>
  <meta name="description" content="Curated home decor & smart upgrades." />
  <meta name="theme-color" content="#0b0c10" />
  <link rel="icon" href="assets/img/favicon.svg" type="image/svg+xml" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="preconnect" href="https://api.github.com" />
  <link rel="stylesheet" href="assets/css/style.css" />
</head>

<body>
  <header class="hero">
    <div class="hero__top">
      <div class="brand">
        <div class="brand__logo" aria-hidden="true"><span id="logoText">SHF</span></div>
        <div class="brand__text">
          <h1 id="brandName">Smart Home Finds</h1>
          <p id="brandTagline">Cozy ‚Ä¢ Elegant ‚Ä¢ Minimal ‚Äî curated home decor & smart upgrades.</p>
        </div>
      </div>

      <div class="hero__actions"><a class="pill pill--icon pill--primary" id="btnPinterest" target="_blank" rel="noopener"
   aria-label="Pinterest" title="Pinterest">
  <!-- Pinterest icon -->
  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
    <path d="M12 2C6.49 2 2 6.33 2 11.7c0 4.06 2.49 6.37 3.98 6.37.62 0 .98-1.72.98-2.2
      0-.58-1.6-1.98-1.6-4.61 0-3.54 2.7-6.05 6.2-6.05 3.01 0 5.24 1.71 5.24 4.86
      0 2.35-1.02 6.76-4.07 6.76-1.13 0-2.1-.83-2.1-1.98 0-1.7 1.18-3.34 1.18-5.12
      0-2.98-4.22-2.44-4.22 1.16 0 1.07.13 1.79.56 2.75L7.1 22h2.78l.9-3.58
      c.24.46.97.8 1.55.8 4.08 0 6.86-3.64 6.86-8.52C19.19 5.78 16 2 12 2z"/>
  </svg>
</a>

<a class="pill pill--icon" id="btnInstagram" target="_blank" rel="noopener"
   aria-label="Instagram" title="Instagram">
  <!-- Instagram icon -->
  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
    <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm10
      2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3z"/>
    <path d="M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/>
    <path d="M17.5 6.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
  </svg>
</a>

<a class="pill pill--icon" id="btnTikTok" target="_blank" rel="noopener"
   aria-label="TikTok" title="TikTok">
  <!-- TikTok icon (simple) -->
  <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
    <path d="M14 3c.4 2.7 2.2 4.7 5 4.9v2.9c-1.9-.1-3.6-.8-5-2v6.1c0 3-2.4 5.4-5.4 5.4S3.2
      18 3.2 15s2.4-5.4 5.4-5.4c.4 0 .8 0 1.2.1v3c-.4-.2-.8-.3-1.2-.3-1.3 0-2.4 1.1-2.4
      2.4s1.1 2.4 2.4 2.4S11 16.3 11 15V3h3z"/>
  </svg>
</a>
      </div>
    </div>

    <div class="controls">
      <div class="search">
        <input id="searchInput" type="search" placeholder="Cerca (es. candles, wall art, tray)..." autocomplete="off" />
      </div>

      <div class="chips" id="categoryChips" aria-label="Categorie"></div>

      <div class="toolbar">
        <button class="btn" id="btnRefresh" type="button" title="Aggiorna prodotti">‚ü≥ Refresh</button>

        <button class="btn" id="btnAdmin" type="button" title="Modalit√† admin">
          üîí Admin
        </button>

        <button class="btn" id="btnToken" type="button" title="Connetti token GitHub" hidden>
          üîë Token
        </button>

        <button class="btn btn--primary" id="btnAddProduct" type="button" title="Aggiungi prodotto" hidden>
          + Add Product
        </button>

        <button class="btn btn--ghost" id="btnDisclosure" type="button" aria-expanded="false">Disclosure</button>
      </div>

      <div class="disclosure" id="disclosureBox" hidden>
        <p id="disclosureText">
          Alcuni link potrebbero essere link affiliati. Come Amazon Associate potrei guadagnare da acquisti idonei.
        </p>
      </div>

      <div class="status">
        <span id="statusText">Caricamento prodotti‚Ä¶</span>
      </div>
    </div>
  </header>

  <main class="main" id="products">
    <section class="grid" id="productGrid" aria-live="polite"></section>
  </main>

  <footer class="footer">
    <div class="footer__inner">
      <span>¬© <span id="year"></span> <span id="brandNameFooter">Smart Home Finds</span></span>
      <span class="dot">‚Ä¢</span>
      <a href="privacy.html">Privacy</a>
      <span class="dot">‚Ä¢</span>
      <a href="https://github.com/" target="_blank" rel="noopener">Powered by GitHub Pages</a>
    </div>
  </footer>

  <template id="cardTemplate">
    <article class="card">
      <a class="card__media" target="_blank" rel="noopener">
        <img class="card__img" loading="lazy" alt="" />
        <span class="badge"></span>
      </a>

      <div class="card__body">
        <h3 class="card__title"></h3>

        <div class="card__noteToggleRow">
          <button class="noteToggle" type="button" aria-expanded="false" hidden>Short Notes</button>
        </div>

        <div class="card__notes" hidden></div>

        <div class="card__tags"></div>

        <div class="card__actions">
          <a class="link" target="_blank" rel="noopener">Open</a>
          <a class="link link--muted" target="_blank" rel="noopener">Pin</a>
          <a class="link" target="_blank" rel="noopener">Shop</a>
        </div>
      </div>
    </article>
  </template>

  <!-- MODAL: Admin -->
  <div class="modal" id="adminModal" hidden aria-hidden="true">
    <div class="modal__overlay" data-close="admin"></div>
    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="adminTitle">
      <div class="modal__header">
        <h2 id="adminTitle">Modalit√† Admin</h2>
        <button class="iconbtn" type="button" data-close="admin" aria-label="Chiudi">‚úï</button>
      </div>

      <div class="modal__body">
        <p class="muted">
          La modalit√† Admin serve solo a mostrare i pulsanti ‚ÄúToken‚Äù e ‚ÄúAdd Product‚Äù.
          <b>La vera sicurezza √® il token:</b> senza un token con permessi sul tuo repo nessuno pu√≤ pubblicare.
        </p>

        <label class="field">
          <span class="field__label">PIN Admin</span>
          <input id="adminPinInput" type="password" placeholder="Inserisci PIN..." autocomplete="off" />
          <span class="field__hint">Suggerimento: √® quello che mi hai chiesto (es. Serena05).</span>
        </label>

        <div class="row">
          <button class="btn btn--primary" id="btnEnableAdmin" type="button">Abilita</button>
          <button class="btn" id="btnDisableAdmin" type="button">Disabilita</button>
        </div>

        <div class="note" id="adminStatus"></div>
      </div>
    </div>
  </div>

  <!-- MODAL: GitHub Token -->
  <div class="modal" id="tokenModal" hidden aria-hidden="true">
    <div class="modal__overlay" data-close="token"></div>
    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="tokenTitle">
      <div class="modal__header">
        <h2 id="tokenTitle">Connetti GitHub Token</h2>
        <button class="iconbtn" type="button" data-close="token" aria-label="Chiudi">‚úï</button>
      </div>

      <div class="modal__body">
        <p class="muted">
          Incolla un token GitHub per evitare limiti API. Viene salvato solo nel browser (localStorage), non nel repo.
        </p>

        <label class="field">
          <span class="field__label">GitHub Token</span>
          <input id="tokenInput" type="password" placeholder="github_pat_..." autocomplete="off" />
          <span class="field__hint">
            Per aggiungere prodotti dalla webapp serve un token con <b>Issues: Read and write</b>.
            Per caricare foto serve anche <b>Contents: Read and write</b>.
          </span>
        </label>

        <div class="row">
          <button class="btn btn--primary" id="btnSaveToken" type="button">Salva token</button>
          <button class="btn" id="btnClearToken" type="button">Rimuovi token</button>
        </div>

        <div class="note" id="tokenStatus"></div>
      </div>
    </div>
  </div>

  <!-- MODAL: Add Product -->
  <div class="modal" id="productModal" hidden aria-hidden="true">
    <div class="modal__overlay" data-close="product"></div>
    <div class="modal__panel modal__panel--wide" role="dialog" aria-modal="true" aria-labelledby="productTitle">
      <div class="modal__header">
        <h2 id="productTitle">Aggiungi Prodotto</h2>
        <button class="iconbtn" type="button" data-close="product" aria-label="Chiudi">‚úï</button>
      </div>

      <div class="modal__body">
        <div class="grid2">
          <label class="field">
            <span class="field__label">Titolo</span>
            <input id="pTitle" type="text" placeholder="e.g., Set of 2 Metal Wall Sconce Candle Holders" />
          </label>

          <label class="field">
            <span class="field__label">Categoria</span>
            <select id="pCategory"></select>
          </label>

          <label class="field span2">
            <span class="field__label">Pinterest Pin URL (obbligatorio)</span>
            <input id="pPinUrl" type="url" placeholder="https://pin.it/xxxx o https://www.pinterest.com/pin/..." />
          </label>

          <label class="field span2">
            <span class="field__label">Destination / Affiliate URL (opzionale)</span>
            <input id="pDestUrl" type="url" placeholder="https://amzn.to/xxxxxxx" />
            <span class="field__hint">Tip: usa il marketplace corretto (US/UK).</span>
          </label>

          <label class="field span2">
            <span class="field__label">Image URL (opzionale)</span>
            <input id="pImageUrl" type="url" placeholder="https://i.pinimg.com/...jpg" />
            <span class="field__hint">Se non carichi una foto, usa un link diretto (i.pinimg.com) cos√¨ la scheda mostra l‚Äôimmagine.</span>
          </label>

          <label class="field span2">
            <span class="field__label">Upload Image (opzionale)</span>
            <input id="pImageFile" type="file" accept="image/*" />
            <span class="field__hint">Scegli una foto dalla galleria. Richiede token con <b>Contents: Read and write</b>.</span>
          </label>

          <label class="field span2">
            <span class="field__label">Tags (separate da virgola)</span>
            <input id="pTags" type="text" placeholder="modern, minimalist, cozy, farmhouse" />
          </label>

          <label class="field span2">
            <span class="field__label">Short Notes (opzionale)</span>
            <textarea id="pNotes" rows="4" placeholder="Perch√© √® utile / dove usarlo / idea regalo‚Ä¶"></textarea>
          </label>
        </div>

        <div class="row">
          <button class="btn btn--primary" id="btnSubmitProduct" type="button">Pubblica</button>
          <button class="btn" id="btnCancelProduct" type="button" data-close="product">Annulla</button>
          <a class="btn btn--ghost" id="btnFallbackGitHub" target="_blank" rel="noopener">Apri GitHub Form</a>
        </div>

        <div class="note" id="productStatus"></div>
      </div>
    </div>
  </div>

  <script src="assets/js/app.js"></script>
</body>
</html>
